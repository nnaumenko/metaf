CloudGroup
==========

.. cpp:namespace-push:: metaf

CloudGroup class
----------------

	.. cpp:class:: CloudGroup

		Stores information about a single cloud layer, cloud-like obscuration, lack of cloud cover or vertical visibility.

.. cpp:namespace-push:: CloudGroup


Type definitions
^^^^^^^^^^^^^^^^

	.. cpp:enum-class:: Type

		Specifies what kind of information is stored within this group.

		.. cpp:enumerator::	NO_CLOUDS

			Clear sky condition, no clouds detected, or no significant clouds. Use :cpp:func:`amount()` for exact condition; the possible values are :cpp:enumerator:`Amount::NONE_CLR`, :cpp:enumerator:`Amount::NONE_SKC`, :cpp:enumerator:`Amount::NCD`, or :cpp:enumerator:`Amount::NSC`.

		.. cpp:enumerator:: CLOUD_LAYER

			Cloud layer specified in METAR report, trend or remarks.

			Use :cpp:func:`amount()` for cloud amount, :cpp:func:`height()` for base height, and :cpp:func:`convectiveType()` for significant convective type.

		.. cpp:enumerator:: VERTICAL_VISIBILITY

			Sky is obscured and vertical visibility is indicated instead of cloud data. Use :cpp:func:`verticalVisibility()` for vertical visibility value. :cpp:func:`amount()` will return  :cpp:enumerator:`Amount::OBSCURED`.

		.. cpp:enumerator:: CEILING

			Ceiling height. Use :cpp:func:`height()` for ceiling height value. Use :cpp:func:`runway()` and :cpp:func:`direction()` for the location where ceiling is reported.

			.. note:: CAVOK group (:cpp:enumerator:`metaf::KeywordGroup::Type::CAVOK`) is also used to indicate no cloud below 5000 feet (1500 meters) and no cumulonimbus or towering cumulus clouds.

		.. cpp:enumerator:: VARIABLE_CEILING

			Ceiling height is variable. Use :cpp:func:`minHeight()` and :cpp:func:`maxHeight()` for ceiling height range. Use :cpp:func:`runway()` or :cpp:func:`direction()` for the location where ceiling is reported.

		.. cpp:enumerator:: CHINO

			Indicates the that the ceiling data is not available for a secondary location. Use :cpp:func:`runway()` or :cpp:func:`direction()`.

		.. cpp:enumerator:: CLD_MISG

			Indicates the that cloud data are missing. No further details are provided.

		.. cpp:enumerator:: OBSCURATION

			Indicates the that instead of cloud data, a ground-based or aloft obscuration data is specified.

			Use :cpp:func:`amount()` for obscuration amount, :cpp:func:`height()` for base height (or zero height for ground-based obscuration), and :cpp:func:`cloudType()` for type of obscuration.

		.. cpp:enumerator:: VARIABLE_COVER

			Indicates the that cloud cover is variable between :cpp:func:`amount()` and :cpp:func:`variableAmount()` values. :cpp:func:`height()` also may return a base height value if it was specified in the group.

		.. cpp:enumerator:: CIG_RAG

			Indicates ragged ceiling. No further details are provided.

		.. cpp:enumerator:: CIG_DFUS

			Indicates diffuse ceiling. No further details are provided.

	.. cpp:enum-class:: Amount

		Amount (cover) of the cloud layer.

		See also CAVOK (:cpp:enumerator:`metaf::KeywordGroup::Type::CAVOK`) which may be used to specify no cloud below 5000 feet (1500 meters) and no cumulonimbus or towering cumulus clouds.

		.. cpp:enumerator::	NOT_REPORTED

			Amount of cloud (cloud cover) is not reported or not applicable for this type of group.

		.. cpp:enumerator:: NCD

			No cloud detected: automated weather station did not detect any clouds. Either no clouds are present or sensor error occurred.

		.. cpp:enumerator:: NSC

			Nil significant clouds: no cloud below 5000 feet (1500 meters), no cumulonimbus or towering cumulus, and no vertical visibility restriction.

			.. note:: CAVOK group (:cpp:enumerator:`metaf::KeywordGroup::Type::CAVOK`) is also used to indicate no cloud below 5000 feet (1500 meters) and no cumulonimbus or towering cumulus clouds.

		.. cpp:enumerator:: NONE_CLR

			No clouds / clear sky. No cloud layers are detected at or below 12000 feet /3700 meters) (US) or 25000 feet / 7600 meters (Canada).

			Indicates that station is at least partly automated.

		.. cpp:enumerator:: NONE_SKC

			No clouds / clear sky. In North America indicates report producted by human rather than automatic weather station.

		.. cpp:enumerator:: FEW

			Few clouds (1/8 to 2/8 sky covered).

		.. cpp:enumerator:: SCATTERED

			Scattered clouds (3/8 to 4/8 sky covered).

		.. cpp:enumerator:: BROKEN

			Broken clouds (5/8 to 7/8 sky covered).

		.. cpp:enumerator:: OVERCAST

			Overcast (8/8 sky covered)

		.. cpp:enumerator:: OBSCURED

			Sky obscured; vertical visibility reported instead.

	.. cpp:enum-class:: ConvectiveType

		Significant convective type of the cloud in the layer.

		.. cpp:enumerator:: NONE

			No cloud type specified or not applicable.

		.. cpp:enumerator:: NOT_REPORTED

			Convective cloud type is not reported.

		.. cpp:enumerator:: TOWERING_CUMULUS

			Convective cloud: towering cumulus.

		.. cpp:enumerator:: CUMULONIMBUS

			Convective cloud: cumulonimbus.


Acquiring group data
^^^^^^^^^^^^^^^^^^^^

	.. cpp:function:: Amount amount() const

		:returns: Amount (cover) of clouds in layer or clear sky conditions.

	.. cpp:function:: ConvectiveType type() const

		:returns: Convective type of the cloud in the layer.

	.. cpp:function:: Distance height() const

		:returns: Cloud base or ceiling height or non-reported value if height is not applicable for this group.

		.. note:: When the sky is obscured use :cpp:func:`verticalVisibility()`.

		.. note:: When variable ceiling height is reported use :cpp:func:`minHeight()` or :cpp:func:`maxHeight()`.

	.. cpp:function:: Distance verticalVisibility() const

		:returns: Vertical visibility or value if sky is obscured; non-reported value otherwise.

	.. cpp:function:: Distance minHeight() const

		:returns: Minimum ceiling height if variable ceiling height is reported; non-reported value otherwise.

	.. cpp:function:: Distance maxHeight() const

		:returns: Maximum ceiling height if variable ceiling height is reported; non-reported value otherwise.

	.. cpp:function:: std::optional<Runway> runway() const

		:returns: For location-specific data such as ceiling, returns runway number if the specified location is a runway. Otherwise returns an empty ``std::optional``.

	.. cpp:function:: std::optional<Direction> direction() const

		:returns: For location-specific data such as ceiling, returns cardinal direction value if the specified location is a cardinal direction. Otherwise returns an empty ``std::optional``.

Miscellaneous
^^^^^^^^^^^^^

	.. cpp:function:: std::optional<CloudType> cloudType() const

		:returns: :cpp:class:`CloudType` corresponding to the information stored in the group (maximum okta value, convective type, and cloud base height or minimum height if variable), or empty std::optional if 'no clouds' conditions or vertical visibility or missing data groups.

Validating
^^^^^^^^^^

	.. cpp:function:: bool isValid() const

		:returns: ``true`` if stored cloud information is valid, and ``false`` otherwise. The information is considered valid if the value of cloud cover height or vertical visibility is valid (if reported). Zero height of cloud cover base or vertical visibility does not make the information invalid.

.. cpp:namespace-pop::

Formats
-------

The following groups indicating cloud or clear sky conditions are recognised by Metaf.

No cloud conditions
^^^^^^^^^^^^^^^^^^^

The following groups indicate condition of no clouds, no significant clouds and no detected clouds.

 - ``CLR``: Clear sky; no cloud layers are detected at or below 12000 feet / 3700 meters (US) or 25000 feet / 7600 meters (Canada); indicates that station is at least partly automated.                                             |
 - ``SKC``: Clear sky; In North America indicates report producted by human rather than automatic weather station.
 - ``NCD``: No cloud detected; automated weather station did not detect any clouds; this can happen due to either no clouds present or sensor error.
 - ``NSC``: No significant cloud; no cloud below 5000 feet / 1500 meters, no cumulonimbus or towering cumulus clouds, no vertical visibility restriction.

Examples of 'no cloud' condition group
""""""""""""""""""""""""""""""""""""""

The table below summarises various formats of sky condition groups indicating absence of clouds, recognised by Metaf. The table shows values returned by getter methods of :cpp:class:`CloudGroup`.

+----------+-----------------------------------------------+------------------------------------------------+----------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+------------------------------------------------------------------------------------+------------------------------------------+---------------------------------------------+----------------------------------------------------+
| Group(s) | :cpp:func:`CloudGroup::type()`                | :cpp:func:`CloudGroup::amount()`               | :cpp:func:`CloudGroup::convectiveType()`           | :cpp:func:`CloudGroup::height()`              | :cpp:func:`CloudGroup::minHeight()`           | :cpp:func:`CloudGroup::maxHeight()`           | :cpp:func:`CloudGroup::verticalVisibility()`  | :cpp:func:`CloudGroup::cloudType()`                                                | :cpp:func:`CloudGroup::runway()`         | :cpp:func:`CloudGroup::direction()`         | :cpp:func:`CloudGroup::variableAmount()`           |
+==========+===============================================+================================================+====================================================+===============================================+===============================================+===============================================+===============================================+====================================================================================+==========================================+=============================================+====================================================+
| CLR      | :cpp:enumerator:`CloudGroup::Type::NO_CLOUDS` | :cpp:enumerator:`CloudGroup::Amount::NONE_CLR` | :cpp:enumerator:`CloudGroup::ConvectiveType::NONE` | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`CloudType`                                                           | empty std::optional<:cpp:class:`Runway`> | empty std::optional<:cpp:class:`Direction`> | :cpp:enumerator:`CloudGroup::Amount::NOT_REPORTED` |
|          |                                               |                                                |                                                    | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED` |                                          |                                             |                                                    |
+----------+                                               +------------------------------------------------+                                                    |                                               |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == non-reported :cpp:class:`Distance`            |                                          |                                             |                                                    |
| SKC      |                                               | :cpp:enumerator:`CloudGroup::Amount::NONE_SKC` |                                                    |                                               |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 0                                               |                                          |                                             |                                                    |
|          |                                               |                                                |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                          |                                             |                                                    |
+----------+                                               +------------------------------------------------+                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                          |                                             |                                                    |
| NCD      |                                               | :cpp:enumerator:`CloudGroup::Amount::NCD`      |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                          |                                             |                                                    |
|          |                                               |                                                |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                          |                                             |                                                    |
+----------+                                               +------------------------------------------------+                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                          |                                             |                                                    |
| NSC      |                                               | :cpp:enumerator:`CloudGroup::Amount::NSC`      |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                          |                                             |                                                    |
|          |                                               |                                                |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                          |                                             |                                                    |
+----------+-----------------------------------------------+------------------------------------------------+----------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+------------------------------------------------------------------------------------+------------------------------------------+---------------------------------------------+----------------------------------------------------+


Cloud layer information
^^^^^^^^^^^^^^^^^^^^^^^

Cloud layer group starts with three-letter amount, followed by three-digit cloud layer base :ref:`api_distance:Height`, followed by optional convective type information. 

For example, ``OVC008`` means that cloud layer covering 8/8 of the sky with base at height of 800 feet, and ``SCT045TCU`` means Towering Cumulus clouds covering 3/8 to 4/8 of the sky with base at height 4500 feet.

If any of these three parts is not reported, it is replaced by ``///`` characters. If no cloud information is available then the relevant group is coded ``/////////``. For example, group ``FEW///`` indicates clouds covering 1/8 to 2/8 of the sky, their base height is not known or not significant, and which are not of towering cumulus type and not of cumulonimbus type. Similarly group ``BKN024///`` means clouds covering 5/8 to 7/8 of the sky with base layer at height of 2400 feet, and indicates that the convective type is not known (that is, it is not known whether this cloud layer consists of Towering Cumulus or Cumulonimbus clouds or neither).

Generalised syntax of cloud layer groups is as follows.

.. image:: cloudgroup_cloudlayer.svg

Cloud amount
""""""""""""

The cloud amounts recognised by Metaf are summarised in the table below.

====== ============ ===================== ==================================================
Amount Meaning      Sky coverage          :cpp:enum:`CloudGroup::Amount`
====== ============ ===================== ==================================================
FEW    Few          1/8 to 2/8 of the sky :cpp:enumerator:`CloudGroup::Amount::FEW`
SCT    Scattered    3/8 to 4/8 of the sky :cpp:enumerator:`CloudGroup::Amount::SCATTERED`
BKN    Broken       5/8 to 7/8 of the sky :cpp:enumerator:`CloudGroup::Amount::BROKEN`
OVC    Overcast     8/8 of the sky        :cpp:enumerator:`CloudGroup::Amount::OVERCAST`
///    Not reported n/a                   :cpp:enumerator:`CloudGroup::Amount::NOT_REPORTED`
====== ============ ===================== ==================================================

Convective type
"""""""""""""""

The convective cloud types recognised by Metaf are summarised in the table below.

======= ======================= ==============================================================
Type    Meaning                 :cpp:enum:`CloudGroup::ConvectiveType`
======= ======================= ==============================================================
missing Not a convective cloud  :cpp:enumerator:`CloudGroup::ConvectiveType::NONE`
TCU     Towering cumulus        :cpp:enumerator:`CloudGroup::ConvectiveType::TOWERING_CUMULUS`
CB      Cumulonimbus            :cpp:enumerator:`CloudGroup::ConvectiveType::CUMULONIMBUS`
///     Convective type unknown :cpp:enumerator:`CloudGroup::ConvectiveType::NOT_REPORTED`
======= ======================= ==============================================================

Examples of cloud layer group
"""""""""""""""""""""""""""""

The table below summarises various formats of cloud layer groups recognised by Metaf. The table shows values returned by getter methods of :cpp:class:`CloudGroup`.

+-----------+-------------------------------------------------+----------------------------------------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+----------------------------------------------------------------------------------------+------------------------------------------+---------------------------------------------+----------------------------------------------------+
| Group(s)  | :cpp:func:`CloudGroup::type()`                  | :cpp:func:`CloudGroup::amount()`                   | :cpp:func:`CloudGroup::convectiveType()`                       | :cpp:func:`CloudGroup::height()`                                                 | :cpp:func:`CloudGroup::minHeight()`           | :cpp:func:`CloudGroup::maxHeight()`           | :cpp:func:`CloudGroup::verticalVisibility()`  | :cpp:func:`CloudGroup::cloudType()`                                                    | :cpp:func:`CloudGroup::runway()`         | :cpp:func:`CloudGroup::direction()`         | :cpp:func:`CloudGroup::variableAmount()`           |
+===========+=================================================+====================================================+================================================================+==================================================================================+===============================================+===============================================+===============================================+========================================================================================+==========================================+=============================================+====================================================+
| FEW012    | :cpp:enumerator:`CloudGroup::Type::CLOUD_LAYER` | :cpp:enumerator:`CloudGroup::Amount::FEW`          | :cpp:enumerator:`CloudGroup::ConvectiveType::NONE`             | - :cpp:class:`Distance`                                                          | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`CloudType`                                                               | empty std::optional<:cpp:class:`Runway`> | empty std::optional<:cpp:class:`Direction`> | :cpp:enumerator:`CloudGroup::Amount::NOT_REPORTED` |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::distance()` == 1200                                       |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == :cpp:func:`CloudGroup::height()`                  |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 2                                                   |                                          |                                             |                                                    |
+-----------+                                                 +----------------------------------------------------+                                                                +----------------------------------------------------------------------------------+                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             |                                                    |
| SCT100    |                                                 | :cpp:enumerator:`CloudGroup::Amount::SCATTERED`    |                                                                | - :cpp:class:`Distance`                                                          |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::distance()` == 10000                                      |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == :cpp:func:`CloudGroup::height()`                  |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 4                                                   |                                          |                                             |                                                    |
+-----------+                                                 +----------------------------------------------------+                                                                +----------------------------------------------------------------------------------+                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             |                                                    |
| BKN250    |                                                 | :cpp:enumerator:`CloudGroup::Amount::BROKEN`       |                                                                | - :cpp:class:`Distance`                                                          |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::distance()` == 25000                                      |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == :cpp:func:`CloudGroup::height()`                  |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 7                                                   |                                          |                                             |                                                    |
+-----------+                                                 +----------------------------------------------------+                                                                +----------------------------------------------------------------------------------+                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             |                                                    |
| OVC001    |                                                 | :cpp:enumerator:`CloudGroup::Amount::OVERCAST`     |                                                                | - :cpp:class:`Distance`                                                          |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::distance()` == 100                                        |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == :cpp:func:`CloudGroup::height()`                  |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 8                                                   |                                          |                                             |                                                    |
+-----------+                                                 +----------------------------------------------------+                                                                +----------------------------------------------------------------------------------+                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             |                                                    |
| ///032    |                                                 | :cpp:enumerator:`CloudGroup::Amount::NOT_REPORTED` |                                                                | - :cpp:class:`Distance`                                                          |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::distance()` == 3200                                       |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == :cpp:func:`CloudGroup::height()`                  |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 0                                                   |                                          |                                             |                                                    |
+-----------+                                                 +----------------------------------------------------+                                                                +----------------------------------------------------------------------------------+                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             |                                                    |
| FEW///    |                                                 | :cpp:enumerator:`CloudGroup::Amount::FEW`          |                                                                | - :cpp:class:`Distance`                                                          |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::isReported()` == false                                    |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == non-reported :cpp:class:`Distance`                |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 2                                                   |                                          |                                             |                                                    |
+-----------+                                                 +----------------------------------------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             |                                                    |
| FEW040TCU |                                                 | :cpp:enumerator:`CloudGroup::Amount::FEW`          | :cpp:enumerator:`CloudGroup::ConvectiveType::TOWERING_CUMULUS` | - :cpp:class:`Distance`                                                          |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::TOWERING_CUMULUS` |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::distance()` == 4000                                       |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == :cpp:func:`CloudGroup::height()`                  |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 2                                                   |                                          |                                             |                                                    |
+-----------+                                                 +----------------------------------------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             |                                                    |
| BKN020CB  |                                                 | :cpp:enumerator:`CloudGroup::Amount::BROKEN`       | :cpp:enumerator:`CloudGroup::ConvectiveType::CUMULONIMBUS`     | - :cpp:class:`Distance`                                                          |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::CUMULONIMBUS`     |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::distance()` == 2000                                       |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == :cpp:func:`CloudGroup::height()`                  |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 7                                                   |                                          |                                             |                                                    |
+-----------+                                                 +----------------------------------------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             |                                                    |
| SCT080/// |                                                 | :cpp:enumerator:`CloudGroup::Amount::SCATTERED`    | :cpp:enumerator:`CloudGroup::ConvectiveType::NOT_REPORTED`     | - :cpp:class:`Distance`                                                          |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::distance()` == 8000                                       |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == :cpp:func:`CloudGroup::height()`                  |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 4                                                   |                                          |                                             |                                                    |
+-----------+                                                 +----------------------------------------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             |                                                    |
|| /////////|                                                 | :cpp:enumerator:`CloudGroup::Amount::NOT_REPORTED` | :cpp:enumerator:`CloudGroup::ConvectiveType::NOT_REPORTED`     | - :cpp:class:`Distance`                                                          |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::isReported()` == false                                    |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == non-reported :cpp:class:`Distance`                |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 0                                                   |                                          |                                             |                                                    |
+-----------+-------------------------------------------------+----------------------------------------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+----------------------------------------------------------------------------------------+------------------------------------------+---------------------------------------------+----------------------------------------------------+


Vertical visibility
^^^^^^^^^^^^^^^^^^^

If the sky is obscured (for example by fog), vertical visibility may be specified in the report instead of cloud information.

Vertical visibility group is ``VVxxx``: characters ``VV`` followed by three-digit vertical visibility value in hundreds of feet. If the vertical visibility is not reported, the relevant group is coded ``VV///``.

Group ``SKY OBSCURED`` (or ``SKY OBSC``) may be specified in the remarks and parsed exactly as ``VV///`` group.

Vertical visibility format is the same as :ref:`api_distance:Height`.

For example, group ``VV001`` means vertical visibility of 100 feet.

Generalised syntax of vertical visibility groups is as follows.

.. image:: cloudgroup_vv.svg

Examples of vertical visibility group
"""""""""""""""""""""""""""""""""""""

The table below gives examples of vertical visibility group format recognised by Metaf. The table shows values returned by getter methods of :cpp:class:`CloudGroup`.

+-------------+---------------------------------------------------------+----------------------------------------------------+----------------------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------------+------------------------------------------+---------------------------------------------+----------------------------------------------------+
| Group(s)    | :cpp:func:`CloudGroup::type()`                          | :cpp:func:`CloudGroup::amount()`                   | :cpp:func:`CloudGroup::convectiveType()`                       | :cpp:func:`CloudGroup::height()`              | :cpp:func:`CloudGroup::minHeight()`           | :cpp:func:`CloudGroup::maxHeight()`           | :cpp:func:`CloudGroup::verticalVisibility()`                                     | :cpp:func:`CloudGroup::cloudType()`                                                    | :cpp:func:`CloudGroup::runway()`         | :cpp:func:`CloudGroup::direction()`         | :cpp:func:`CloudGroup::variableAmount()`           |
+=============+=========================================================+====================================================+================================================================+===============================================+===============================================+===============================================+==================================================================================+========================================================================================+==========================================+=============================================+====================================================+
| VV002       | :cpp:enumerator:`CloudGroup::Type::VERTICAL_VISIBILITY` | :cpp:enumerator:`CloudGroup::Amount::OBSCURED`     | :cpp:enumerator:`CloudGroup::ConvectiveType::NONE`             | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                                                          | - :cpp:class:`CloudType`                                                               | empty std::optional<:cpp:class:`Runway`> | empty std::optional<:cpp:class:`Direction`> | :cpp:enumerator:`CloudGroup::Amount::NOT_REPORTED` |
|             |                                                         |                                                    |                                                                | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|             |                                                         |                                                    |                                                                |                                               |                                               |                                               | - :cpp:func:`Distance::distance()` == 100                                        | - :cpp:func:`CloudType::height()` == non-reported :cpp:class:`Distance`                |                                          |                                             |                                                    |
|             |                                                         |                                                    |                                                                |                                               |                                               |                                               | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         | - :cpp:func:`CloudType::okta()` == 0                                                   |                                          |                                             |                                                    |
+-------------+                                                         |                                                    |                                                                |                                               |                                               |                                               +----------------------------------------------------------------------------------+                                                                                        |                                          |                                             |                                                    |
| VV///       |                                                         |                                                    |                                                                |                                               |                                               |                                               | - :cpp:class:`Distance`                                                          |                                                                                        |                                          |                                             |                                                    |
+-------------+                                                         |                                                    |                                                                |                                               |                                               |                                               | - :cpp:func:`Distance::isReported()` == false                                    |                                                                                        |                                          |                                             |                                                    |
|SKY OBSCURED |                                                         |                                                    |                                                                |                                               |                                               |                                               |                                                                                  |                                                                                        |                                          |                                             |                                                    |
+-------------+---------------------------------------------------------+----------------------------------------------------+----------------------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------------+------------------------------------------+---------------------------------------------+----------------------------------------------------+


Variable sky conditions
^^^^^^^^^^^^^^^^^^^^^^^

Variable sky conditions may be specified in remarks as a sequence of groups. The first group starts with three-letter cloud amount, followed by optional three-digit base height. The second group is always coded as ``V``. The third group is a three-letter cloud amount.

For example, ``BKN V OVC`` indicates that sky condition is variable between Broken Clouds and Overcast (between 5/8 and 8/8 coverage).

First group may also include base height, for example ``BKN020 V OVC``.

Metaf recornises any pairs of cloud amount ``FEW``, ``SCT``, ``BKN``, ``OVC``, except pairs where amounts are identical. For example, group ``FEW V FEW`` will not be recognised by Metaf as a :cpp:class:`CloudGroup`.

Variable sky condition groups recognised by Metaf are summarised in the table below.

========= ==================================================== ===============================================================
Groups    Meaning                                              :cpp:enum:`CloudGroup::Amount`
========= ==================================================== ===============================================================
FEW V SCT Cloud layer is variable between 1/8 and 4/8 coverage :cpp:enumerator:`CloudGroup::Amount::VARIABLE_FEW_SCATTERED`
SCT V BKN Cloud layer is variable between 3/8 and 7/8 coverage :cpp:enumerator:`CloudGroup::Amount::VARIABLE_SCATTERED_BROKEN`
BKN V OVC Cloud layer is variable between 5/8 and 8/8 coverage :cpp:enumerator:`CloudGroup::Amount::VARIABLE_BROKEN_OVERCAST`
========= ==================================================== ===============================================================

.. note:: First group may also include base height, for example ``BKN020 V OVC``.

Generalised syntax of variable sky condition groups is as follows.

.. image:: cloudgroup_variable.svg

Examples of variable sky condition groups
"""""""""""""""""""""""""""""""""""""""""

The table below gives examples of variable sky condition remark formats recognised by Metaf. The table shows values returned by getter methods of :cpp:class:`CloudGroup`.

+--------------+----------------------------------------------------+-----------------------------------------------------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+----------------------------------------------------------------------------------------+------------------------------------------+---------------------------------------------+----------------------------------------------------+
| Group(s)     | :cpp:func:`CloudGroup::type()`                     | :cpp:func:`CloudGroup::amount()`                                | :cpp:func:`CloudGroup::convectiveType()`                       | :cpp:func:`CloudGroup::height()`                                                 | :cpp:func:`CloudGroup::minHeight()`           | :cpp:func:`CloudGroup::maxHeight()`           | :cpp:func:`CloudGroup::verticalVisibility()`  | :cpp:func:`CloudGroup::cloudType()`                                                    | :cpp:func:`CloudGroup::runway()`         | :cpp:func:`CloudGroup::direction()`         | :cpp:func:`CloudGroup::variableAmount()`           |
+==============+====================================================+=================================================================+================================================================+==================================================================================+===============================================+===============================================+===============================================+========================================================================================+==========================================+=============================================+====================================================+
| FEW V SCT    | :cpp:enumerator:`CloudGroup::Type::VARIABLE_COVER` | :cpp:enumerator:`CloudGroup::Amount::FEW`                       | :cpp:enumerator:`CloudGroup::ConvectiveType::NONE`             | - :cpp:class:`Distance`                                                          | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`CloudType`                                                               | empty std::optional<:cpp:class:`Runway`> | empty std::optional<:cpp:class:`Direction`> | :cpp:enumerator:`CloudGroup::Amount::SCATTERED`    |
|              |                                                    |                                                                 |                                                                | - :cpp:func:`Distance::isReported()` == false                                    | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|              |                                                    |                                                                 |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == non-reported :cpp:class:`Distance`                |                                          |                                             |                                                    |
|              |                                                    |                                                                 |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 4                                                   |                                          |                                             |                                                    |
+--------------+                                                    +-----------------------------------------------------------------+                                                                |                                                                                  |                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             +----------------------------------------------------+
| SCT V OVC    |                                                    | :cpp:enumerator:`CloudGroup::Amount::SCATTERED`                 |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             | :cpp:enumerator:`CloudGroup::Amount::OVERCAST`     |
|              |                                                    |                                                                 |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|              |                                                    |                                                                 |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == non-reported :cpp:class:`Distance`                |                                          |                                             |                                                    |
|              |                                                    |                                                                 |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 7                                                   |                                          |                                             |                                                    |
+--------------+                                                    +-----------------------------------------------------------------+                                                                |                                                                                  |                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             +----------------------------------------------------+
| OVC V SCT    |                                                    | :cpp:enumerator:`CloudGroup::Amount::OVERCAST`                  |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             | :cpp:enumerator:`CloudGroup::Amount::SCATTERED`    |
|              |                                                    |                                                                 |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|              |                                                    |                                                                 |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == non-reported :cpp:class:`Distance`                |                                          |                                             |                                                    |
|              |                                                    |                                                                 |                                                                |                                                                                  |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 8                                                   |                                          |                                             |                                                    |
+--------------+                                                    +-----------------------------------------------------------------+                                                                +----------------------------------------------------------------------------------+                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             +----------------------------------------------------+
| BKN020 V OVC |                                                    | :cpp:enumerator:`CloudGroup::Amount::BROKEN`                    |                                                                | - :cpp:class:`Distance`                                                          |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             | :cpp:enumerator:`CloudGroup::Amount::OVERCAST`     |
|              |                                                    |                                                                 |                                                                | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED`     |                                          |                                             |                                                    |
|              |                                                    |                                                                 |                                                                | - :cpp:func:`Distance::distance()` == 2000                                       |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == :cpp:func:`CloudGroup::height()`                  |                                          |                                             |                                                    |
|              |                                                    |                                                                 |                                                                | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 8                                                   |                                          |                                             |                                                    |
+--------------+----------------------------------------------------+-----------------------------------------------------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+----------------------------------------------------------------------------------------+------------------------------------------+---------------------------------------------+----------------------------------------------------+

Ceiling
^^^^^^^

Ceiling is specified in the remarks as a sequence of groups. The first group is ``CIG``, followed by three-digit :ref:`api_distance:Height` group or :ref:`api_distance:Variable height` group, optionally followed by single cardinal direction (:ref:`api_direction:Cardinal directions`) group or runway identificator group in a form of Rxx or RWYxxx (:ref:`api_runway:Runway format`).

Generalised syntax of ceiling of missing ceiling data groups is as follows.

.. image:: cloudgroup_ceiling_chino.svg

Examples of ceiling height groups
"""""""""""""""""""""""""""""""""

The table below gives examples of variable sky condition remark formats recognised by Metaf. The table shows values returned by getter methods of :cpp:class:`CloudGroup`.

For example, ``CIG 003 RWY24L`` indicates that ceiling is 2500 feet for runway 24 LEFT, and ``CIG 001V007`` indicated that ceiling is variable between 100 and 700 feet.

Metaf does not recognise non-reported height values (``///``) as a part of Ceiling groups.

+-----------------+---------------------------------------------+----------------------------------------------------+----------------------------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+-----------------------------------------------+------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------+
| Group(s)        | :cpp:func:`CloudGroup::type()`              | :cpp:func:`CloudGroup::amount()`                   | :cpp:func:`CloudGroup::convectiveType()`           | :cpp:func:`CloudGroup::height()`                                                 | :cpp:func:`CloudGroup::minHeight()`                                              | :cpp:func:`CloudGroup::maxHeight()`                                              | :cpp:func:`CloudGroup::verticalVisibility()`  | :cpp:func:`CloudGroup::cloudType()`                                                | :cpp:func:`CloudGroup::runway()`                                                | :cpp:func:`CloudGroup::direction()`                                                  | :cpp:func:`CloudGroup::variableAmount()`           |
+=================+=============================================+====================================================+====================================================+==================================================================================+==================================================================================+==================================================================================+===============================================+====================================================================================+=================================================================================+======================================================================================+====================================================+
| CIG 003 RWY24L  | :cpp:enumerator:`CloudGroup::Type::CEILING` | :cpp:enumerator:`CloudGroup::Amount::NOT_REPORTED` | :cpp:enumerator:`CloudGroup::ConvectiveType::NONE` | - :cpp:class:`Distance`                                                          | - :cpp:class:`Distance`                                                          | - :cpp:class:`Distance`                                                          | - :cpp:class:`Distance`                       | - :cpp:class:`CloudType`                                                           | - std::optional<:cpp:class:`Runway`>                                            | empty std::optional<:cpp:class:`Direction`>                                          | :cpp:enumerator:`CloudGroup::Amount::NOT_REPORTED` |
|                 |                                             |                                                    |                                                    | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` | - :cpp:func:`Distance::isReported()` == false                                    | - :cpp:func:`Distance::isReported()` == false                                    | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED` | - cpp:func:`Runway::number()` == 24                                             |                                                                                      |                                                    |
|                 |                                             |                                                    |                                                    | - :cpp:func:`Distance::distance()` == 300                                        |                                                                                  |                                                                                  |                                               | - :cpp:func:`CloudType::height()` == non-reported :cpp:class:`Distance`            | - cpp:func:`Runway::designator()` == :cpp:enumerator:`Runway::Designator::LEFT` |                                                                                      |                                                    |
|                 |                                             |                                                    |                                                    | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                                                                  |                                                                                  |                                               | - :cpp:func:`CloudType::okta()` == 0                                               |                                                                                 |                                                                                      |                                                    |
+-----------------+                                             |                                                    |                                                    +----------------------------------------------------------------------------------+                                                                                  |                                                                                  |                                               |                                                                                    +---------------------------------------------------------------------------------+--------------------------------------------------------------------------------------+                                                    |
| CIG 021 N       |                                             |                                                    |                                                    | - :cpp:class:`Distance`                                                          |                                                                                  |                                                                                  |                                               |                                                                                    | empty std::optional<:cpp:class:`Runway`>                                        | - std::optional<:cpp:class:`Direction`>                                              |                                                    |
|                 |                                             |                                                    |                                                    | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                                                                  |                                                                                  |                                               |                                                                                    |                                                                                 | - :cpp:func:`Direction::type()` == :cpp:enumerator:`Direction::Type::VALUE_CARDINAL` |                                                    |
|                 |                                             |                                                    |                                                    | - :cpp:func:`Distance::distance()` == 2100                                       |                                                                                  |                                                                                  |                                               |                                                                                    |                                                                                 | - :cpp:func:`Direction::cardinal()` == :cpp:enumerator:`Direction::Cardinal::N`      |                                                    |
|                 |                                             |                                                    |                                                    | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                                                                  |                                                                                  |                                               |                                                                                    |                                                                                 |                                                                                      |                                                    |
+-----------------+                                             |                                                    |                                                    +----------------------------------------------------------------------------------+                                                                                  |                                                                                  |                                               |                                                                                    |                                                                                 +--------------------------------------------------------------------------------------+                                                    |
| CIG 009         |                                             |                                                    |                                                    | - :cpp:class:`Distance`                                                          |                                                                                  |                                                                                  |                                               |                                                                                    |                                                                                 | empty std::optional<:cpp:class:`Direction`>                                          |                                                    |
|                 |                                             |                                                    |                                                    | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                                                                  |                                                                                  |                                               |                                                                                    |                                                                                 |                                                                                      |                                                    |
|                 |                                             |                                                    |                                                    | - :cpp:func:`Distance::distance()` == 900                                        |                                                                                  |                                                                                  |                                               |                                                                                    |                                                                                 |                                                                                      |                                                    |
|                 |                                             |                                                    |                                                    | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                                                                  |                                                                                  |                                               |                                                                                    |                                                                                 |                                                                                      |                                                    |
+-----------------+                                             |                                                    |                                                    +----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+                                               |                                                                                    +---------------------------------------------------------------------------------+                                                                                      |                                                    |
| CIG 001V007 R27 |                                             |                                                    |                                                    | - :cpp:class:`Distance`                                                          | - :cpp:class:`Distance`                                                          | - :cpp:class:`Distance`                                                          |                                               |                                                                                    | - std::optional<:cpp:class:`Runway`>                                            |                                                                                      |                                                    |
|                 |                                             |                                                    |                                                    | - :cpp:func:`Distance::isReported()` == false                                    | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                               |                                                                                    | - cpp:func:`Runway::number()` == 27                                             |                                                                                      |                                                    |
|                 |                                             |                                                    |                                                    |                                                                                  | - :cpp:func:`Distance::distance()` == 100                                        | - :cpp:func:`Distance::distance()` == 700                                        |                                               |                                                                                    | - cpp:func:`Runway::designator()` == :cpp:enumerator:`Runway::Designator::NONE` |                                                                                      |                                                    |
|                 |                                             |                                                    |                                                    |                                                                                  | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                                                                    |                                                                                 |                                                                                      |                                                    |
+-----------------+---------------------------------------------+----------------------------------------------------+----------------------------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+-----------------------------------------------+------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------+


Ground-based or aloft obscurations
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This type of group may be included in the remarks to indicate obscurations covering the sky. The format is the sequence of two groups, first group indicating type of obscuration (:ref:`api_weatherphenomena:Obscurations`), and the second group indicating amount (sky cover) and base height similarly to cloud layer group.

For example, ``FG SCT000`` means ground-based layer of fog covering 3/8 to 4/8 of the sky, and ``FU BKN020`` means layer of smoke at 2000 feet covering 5/8 to 7/8 of the sky.

Metaf does not recognise non-reported height value as a part of this group, for example ``FG SCT///`` is not recognised by Metaf.

Generalised syntax of ceiling of missing ceiling data groups is as follows.

.. image:: cloudgroup_obscuration.svg

The following obscurations are recognised by Metaf (see :ref:`api_cloudtype:Cloud types in METAR`).

==== ============
Code Meaning
==== ============
BLSN Blowing snow
BLDU Blowing dust
BLSA Blowing sand
IC   Ice crystals
RA   Rain
DZ   Drizzle
SN   Snow
PL   Ice pellets
FU   Smoke
FG   Fog
BR   Mist
HZ   Haze
==== ============


Examples of obscuration groups
""""""""""""""""""""""""""""""

The table below gives examples of obscuration remark group recognised by Metaf. The table shows values returned by getter methods of :cpp:class:`CloudGroup`.

+-----------+-------------------------------------------------+----------------------------------------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+----------------------------------------------------------------------------------------+------------------------------------------+---------------------------------------------+----------------------------------------------------+
| Group(s)  | :cpp:func:`CloudGroup::type()`                  | :cpp:func:`CloudGroup::amount()`                   | :cpp:func:`CloudGroup::convectiveType()`                       | :cpp:func:`CloudGroup::height()`                                                 | :cpp:func:`CloudGroup::minHeight()`           | :cpp:func:`CloudGroup::maxHeight()`           | :cpp:func:`CloudGroup::verticalVisibility()`  | :cpp:func:`CloudGroup::cloudType()`                                                    | :cpp:func:`CloudGroup::runway()`         | :cpp:func:`CloudGroup::direction()`         | :cpp:func:`CloudGroup::variableAmount()`           |
+===========+=================================================+====================================================+================================================================+==================================================================================+===============================================+===============================================+===============================================+========================================================================================+==========================================+=============================================+====================================================+
| FU BKN020 | :cpp:enumerator:`CloudGroup::Type::OBSCURATION` | :cpp:enumerator:`CloudGroup::Amount::BROKEN`       | :cpp:enumerator:`CloudGroup::ConvectiveType::NONE`             | - :cpp:class:`Distance`                                                          | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`CloudType`                                                               | empty std::optional<:cpp:class:`Runway`> | empty std::optional<:cpp:class:`Direction`> | :cpp:enumerator:`CloudGroup::Amount::NOT_REPORTED` |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::SMOKE`            |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::distance()` == 2000                                       |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == :cpp:func:`CloudGroup::height()`                  |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 7                                                   |                                          |                                             |                                                    |
+-----------+                                                 +----------------------------------------------------+                                                                +----------------------------------------------------------------------------------+                                               |                                               |                                               +----------------------------------------------------------------------------------------+                                          |                                             |                                                    |
| FG SCT000 |                                                 | :cpp:enumerator:`CloudGroup::Amount::SCATTERED`    |                                                                | - :cpp:class:`Distance`                                                          |                                               |                                               |                                               | - :cpp:class:`CloudType`                                                               |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::modifier()` == :cpp:enumerator:`Distance::Modifier::NONE` |                                               |                                               |                                               | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::FOG`              |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::distance()` == 0                                          |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == :cpp:func:`CloudGroup::height()`                  |                                          |                                             |                                                    |
|           |                                                 |                                                    |                                                                | - :cpp:func:`Distance::unit()` == :cpp:enumerator:`Distance::Unit::FEET`         |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 4                                                   |                                          |                                             |                                                    |
+-----------+-------------------------------------------------+----------------------------------------------------+----------------------------------------------------------------+----------------------------------------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+----------------------------------------------------------------------------------------+------------------------------------------+---------------------------------------------+----------------------------------------------------+


Missing data
^^^^^^^^^^^^

Missing sky condition data (cloud data) is indicated by groups ``CLD MISG`` in remarks.

Missing ceiling data is indicated in the remarks with group ``CHINO``, optionally followed by single cardinal direction (:ref:`api_direction:Cardinal directions`) group or runway identificator group in a form of ``Rxx`` or ``RWYxxx`` (:ref:`api_runway:Runway format`). For example ``CHINO RWY32`` means the ceiling data is not available for runway 32.

Examples of missing data groups
"""""""""""""""""""""""""""""""

+-------------+-----------------------------------------------+----------------------------------------------------+----------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------+
| Group(s)    | :cpp:func:`CloudGroup::type()`                | :cpp:func:`CloudGroup::amount()`                   | :cpp:func:`CloudGroup::convectiveType()`           | :cpp:func:`CloudGroup::height()`              | :cpp:func:`CloudGroup::minHeight()`           | :cpp:func:`CloudGroup::maxHeight()`           | :cpp:func:`CloudGroup::verticalVisibility()`  | :cpp:func:`CloudGroup::cloudType()`                                                | :cpp:func:`CloudGroup::runway()`                                                | :cpp:func:`CloudGroup::direction()`                                                  | :cpp:func:`CloudGroup::variableAmount()`           |
+=============+===============================================+====================================================+====================================================+===============================================+===============================================+===============================================+===============================================+====================================================================================+=================================================================================+======================================================================================+====================================================+
| CHINO       | :cpp:enumerator:`CloudGroup::Type::CHINO`     | :cpp:enumerator:`CloudGroup::Amount::NOT_REPORTED` | :cpp:enumerator:`CloudGroup::ConvectiveType::NONE` | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`Distance`                       | - :cpp:class:`CloudType`                                                           | empty std::optional<:cpp:class:`Runway`>                                        | empty std::optional<:cpp:class:`Direction`>                                          | :cpp:enumerator:`CloudGroup::Amount::NOT_REPORTED` |
|             |                                               |                                                    |                                                    | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`Distance::isReported()` == false | - :cpp:func:`CloudType::type()` == :cpp:enumerator:`CloudType::Type::NOT_REPORTED` |                                                                                 |                                                                                      |                                                    |
|             |                                               |                                                    |                                                    |                                               |                                               |                                               |                                               | - :cpp:func:`CloudType::height()` == non-reported :cpp:class:`Distance`            |                                                                                 |                                                                                      |                                                    |
+-------------+                                               |                                                    |                                                    |                                               |                                               |                                               |                                               | - :cpp:func:`CloudType::okta()` == 0                                               |                                                                                 +--------------------------------------------------------------------------------------+                                                    |
| CHINO NE    |                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                                                                 | - std::optional<:cpp:class:`Direction`>                                              |                                                    |
|             |                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                                                                 | - :cpp:func:`Direction::type()` == :cpp:enumerator:`Direction::Type::VALUE_CARDINAL` |                                                    |
|             |                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                                                                 | - :cpp:func:`Direction::cardinal()` == :cpp:enumerator:`Direction::Cardinal::NE`     |                                                    |
+-------------+                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    +---------------------------------------------------------------------------------+--------------------------------------------------------------------------------------+                                                    |
| CHINO R32   |                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    | - std::optional<:cpp:class:`Runway`>                                            | empty std::optional<:cpp:class:`Direction`>                                          |                                                    |
|             |                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    | - cpp:func:`Runway::number()` == 32                                             |                                                                                      |                                                    |
|             |                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    | - cpp:func:`Runway::designator()` == :cpp:enumerator:`Runway::Designator::NONE` |                                                                                      |                                                    |
+-------------+                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                                                                 |                                                                                      |                                                    |
| CHINO RWY32 |                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                                                                 |                                                                                      |                                                    |
|             |                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                                                                 |                                                                                      |                                                    |
|             |                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                                                                 |                                                                                      |                                                    |
+-------------+-----------------------------------------------+                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    +---------------------------------------------------------------------------------+                                                                                      |                                                    |
| CLD_MISG    | :cpp:enumerator:`CloudGroup::Type::CLD_MISG`  |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    | empty std::optional<:cpp:class:`Runway`>                                        |                                                                                      |                                                    |
|             |                                               |                                                    |                                                    |                                               |                                               |                                               |                                               |                                                                                    |                                                                                 |                                                                                      |                                                    |
+-------------+-----------------------------------------------+----------------------------------------------------+----------------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+-----------------------------------------------+------------------------------------------------------------------------------------+---------------------------------------------------------------------------------+--------------------------------------------------------------------------------------+----------------------------------------------------+


Regional variations
^^^^^^^^^^^^^^^^^^^

``CLR`` and ``SKC`` groups and remarks indicating variable sky conditions, ceiling, missing data and obscuration are used only in North America. Other regions use ``CAVOK`` instead of ``CLR`` and ``SKC``.

``SKY OBSCURED`` remark is used in North America.